var hcUrl="./";String.prototype.NoSpace=function(){return this.replace(/\s+/g,"")};var passinit=/^(([a-z]+[0-9]+)|([0-9]+[a-z]+))[a-z0-9]*$/i;function setCookie(f,h){var e=1;var g=new Date();g.setTime(g.getTime()+e*6*60*60*1000);document.cookie=f+"="+escape(h)+";expires="+g.toGMTString()}function getCookie(d){var e,f=new RegExp("(^| )"+d+"=([^;]*)(;|$)");if(e=document.cookie.match(f)){return unescape(e[2])}else{return null}}function delCookie(e){var f=new Date();f.setTime(f.getTime()-1);var d=getCookie(e);if(d!=null){document.cookie=e+"="+d+";expires="+f.toGMTString()}}var hcuserScript={name:"花橙金融用户中心",version:"1.0.0",tabs:function(c,h,a){var b=this;$(c).each(function(e,d){$(d).click(function(){$(c).removeClass(a);$(this).addClass(a);$(h).hide().eq(e).show()})})},pop:function(l,n,a){var c=this;var m=document.documentElement.scrollHeight;$(n).css("height",m);var k=$(window).height();var b=document.body.scrollTop|document.documentElement.scrollTop;$(l).css("top",b+100);$(l).show();$(n).show();$(a).click(function(){c.close(l,n)})},close:function(b,f){var a=this;$(b).hide();$(f).hide()},userinfo:function(a){var k=this;var l=getCookie("hcuserinfo");if(l==null||l==undefined){$.ajax({url:"/userinfo",type:"POST",dataType:"json",data:null,success:function(d){if(d.statusCode==0){var e=d.data.user.PicId;var c=d.data.user.Grade;var b=d.data.assets.Integral;setCookie("hcuserinfo",e+"&"+c+"&"+b);if(e.length!=0){$(".userpicture").addClass("head-"+e.split(".")[0])}else{$("#userpicture").addClass("head-1")}$("#level").html(d.data.user.Grade);$("#inte").html(d.data.assets.Integral)}},error:function(b){console.log(b);return false}})}else{var l=getCookie("hcuserinfo");var i=l.split("&")[0];var h=l.split("&")[1];var j=l.split("&")[2];if(i.length!=0){$(".userpicture").addClass("head-"+i.split(".")[0])}else{$("#userpicture").addClass("head-1")}$("#level").html(h);$("#inte").html(j)}$.ajax({url:"/userinfo",type:"POST",dataType:"json",data:null,success:function(f){if(f.statusCode==0){$(".usermoney").html(f.data.assets.Fund);var g=f.data.sum[0];var e=f.data.sum[1];var b=f.data.sum[2];var d=f.data.sum[3];var c=f.data.sum[4];if(String(g).indexOf(".")!=-1){var g=g}else{var g=g+".00"}if(String(e).indexOf(".")!=-1){var e=e}else{var e=e+".00"}if(String(b).indexOf(".")!=-1){var b=b}else{var b=b+".00"}if(String(d).indexOf(".")!=-1){var d=d}else{var d=d+".00"}if(String(c).indexOf(".")!=-1){var c=c}else{var c=c+".00"}$("#mineval").html('<dd><span class="hcuser u-yp">银票理财：</span> <strong><b>'+e+"</b><em>元</em></strong></dd>"+'<dd><span class="hcuser u-sp">商票理财：</span> <strong><b>'+b+"</b><em>元</em></strong></dd>"+'<dd><span class="hcuser u-cd">车贷理财：</span> <strong><b>'+d+"</b><em>元</em></strong></dd>"+'<dd><span class="hcuser u-zp">支票理财：</span> <strong><b>'+c+'</b><em>元</em></strong></dd><dd><span class="hcuser u-bl">参与活动：</span> <strong><b>'+g+"</b><em>元</em></strong></dd>")}},error:function(b){console.log(b);return false}})},sendsms:function(a){var d=this;$(a).on("click",function(b){b.preventDefault();$(this).attr("disabled",true).addClass("hc-end");var c=$(this).attr("data");$.ajax({url:"/findsms",type:"POST",dataType:"json",data:{"mobile":c},success:function(f){if(f.statusCode!=0){if(f.message===undefined){$("#error").html("<p>"+f+"!</p>")}else{$("#error").html("<p>"+f.message+"!</p>")}}else{$("#error").html("<p>短信发送成功!</p>")}},error:function(f){console.log(f);return false}});d.countdown("#send-code")})},getpassword:function(){var b=this;$("#send-code").on("click",function(i){i.preventDefault();var g=$("#authcode").val().NoSpace();var h=$("#account").val().NoSpace();var j=$("#vercode").val().NoSpace();var a=/^0?1[3|4|5|7|8][0-9]\d{8}$/;if(h===""||h===null||isNaN(h)||!a.test(h)||h.length!=11){$("#error").html("<p>请正确输入注册手机号？</p>");return false}if(j===""||j===null||isNaN(j)||j.length!=4){$("#error").html("<p>请正确输入图片验证码？</p>");return false}$("#error").html('<img src="/images/common/verfy.gif" alt="loading...">');$.ajax({url:"/sentsms",type:"POST",dataType:"json",data:{"mobile":h,"vercode":j},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>");$("#verpicture").attr("src","/captcha?nocache="+new Date().getTime())}else{$("#error").html("<p>"+c.message+"!</p>");$("#verpicture").attr("src","/captcha?nocache="+new Date().getTime())}}else{$("#error").html("<p>短信发送成功!</p>");$("#send-code").attr("disabled",true).addClass("hc-end");b.countdown("#send-code")}},error:function(c){console.log(c);return false}});return false});$("#user-get").on("click",function(o){o.preventDefault();var j=$("#account").val().NoSpace();var n=$("#password").val().NoSpace();var k=$("#r-password").val().NoSpace();var p=$("#vercode").val().NoSpace();var l=$("#authcode").val().NoSpace();var a=/^0?1[3|4|5|7|8][0-9]\d{8}$/;var m=/^(([a-z]+[0-9]+)|([0-9]+[a-z]+))[a-z0-9]*$/i;if(j===""||j===null||isNaN(j)||!a.test(j)||j.length!=11){$("#error").html("<p>请正确输入注册手机号？</p>");return false}if(p===""||p===null||isNaN(p)||p.length!=4){$("#error").html("<p>请正确输入图片验证码？</p>");
return false}if(l===""||l===null||isNaN(l)||l.length!=4){$("#error").html("<p>请正确输入手机验证码？</p>");return false}if(!m.test(n)||n.length<6){$("#error").html("<p>请以字母数字设置6位以上密码？</p>");return false}if(n!==k){$("#error").html("<p>请确认两次输入密码一致？</p>");return false}$("#error").html('<img src="/images/common/verfy.gif" alt="loading...">');$.ajax({url:"/loginpwd",type:"POST",dataType:"json",data:{"username":j,"password":n,"surepass":k,"vercode":p,"smscode":l},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>");$("#verpicture").attr("src","/captcha?nocache="+new Date().getTime())}else{$("#error").html("<p>"+c.message+"!</p>");$("#verpicture").attr("src","/captcha?nocache="+new Date().getTime())}}else{window.location.href="/usercenter"}},error:function(c){$("#verpicture").attr("src","/captcha?nocache="+new Date().getTime());console.log(c);return false}})});$("#register input").on("click keydown mousedown",function(){$("#error").html("")});$("#verpicture").on("click",function(){$(this).attr("src","/captcha?nocache="+new Date().getTime())});return false},authen:function(){var b=this;$("#send-code").on("click",function(a){a.preventDefault();$(this).attr("disabled",true).addClass("hc-end");var d=$("#hidecode").val();if(d===""||d===null){$("#error").html("<p>注册失效，请重新注册认证！</p>");return false}$("#error").html('<img src="/images/common/verfy.gif" alt="loading...">');$.ajax({url:"/sentmeagess",type:"POST",dataType:"json",data:{"tempId":d},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>");$("#verpicture").attr("src","/captcha?nocache="+new Date().getTime())}else{$("#error").html("<p>"+c.message+"!</p>");$("#verpicture").attr("src","/captcha?nocache="+new Date().getTime())}}else{$("#error").html("<p>短信发送成功!</p>")}},error:function(c){console.log(c);return false}});b.countdown("#send-code")});$("#user-auth").on("click",function(m){m.preventDefault();var o=$("#authcode").val().NoSpace();var p=$("#authname").val().NoSpace();var t=$("#authid").val().NoSpace();var n=$("#setpaypass").val().NoSpace();var a=$("#surepaypass").val().NoSpace();var r=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;var s=/^[\u4e00-\u9fa5]+$/i;var q=$("#recommend").val().NoSpace();var l=$("#hidecode").val();if(o===""||o===null||isNaN(o)||o.length!=4){$("#error").html("<p>请正确输入手机验证码？</p>");return false}if(p===""||p===null||!s.test(p)){$("#error").html("<p>请正确输入真实姓名？</p>");return false}if(t===""||t===null||!r.test(t)){$("#error").html("<p>请正确输入身份证号？</p>");return false}if(isNaN(n)||n.length<6){$("#error").html("<p>请设置4-6位数字交易密码？</p>");return false}if(n===""||n===null||a===""||a===null||n!==a){$("#error").html("<p>请正确输入交易支付密码？</p>");return false}$("#error").html('<img src="/images/common/verfy.gif" alt="loading...">');$.ajax({url:"/userauth",type:"POST",dataType:"json",data:{"tempId":l,"name":p,"idCard":t,"payment":n,"recommend":q,"smscode":o},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{window.location.href="/usercenter"}},error:function(c){console.log(c);return false}})});$("#authen input").on("click keydown mousedown",function(){$("#error").html("")});return false},safety:function(){var b=this;$("#mod-login").on("click",function(h){h.preventDefault();var f=$("#login-ypass").val().NoSpace();var g=$("#login-npass").val().NoSpace();var a=$("#login-spass").val().NoSpace();if(f===""||g===""||a===""){$("#error").html("<p>请输入修改密码信息!</p>");return false}if(!passinit.test(g)||!passinit.test(a)||g.length<6||a.length<6){$("#error").html("<p>请以字母和数字设置6位以上密码!</p>");return false}if(g!==a){$("#error").html("<p>请确认新密码两次输入一致？!</p>");return false}$.ajax({url:"/modpassword",type:"POST",dataType:"json",data:{"oldpass":f,"newpass":a},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{$(".pop dd").html('<strong class="success"><i></i>修改成功！</strong>');b.pop(".pop",".black",".close");$(".user-safety input").val("");setTimeout(function(){b.close(".pop",".black")},1000)}},error:function(c){console.log(c);return false}});return false});$("#mod-pay").on("click",function(a){a.preventDefault();var f=$("#pay-ypass").val().NoSpace();var g=$("#pay-npass").val().NoSpace();var h=$("#pay-spass").val().NoSpace();if(f===""||g===""||h===""){$("#error").html("<p>请输入修改密码信息!</p>");return false}if(isNaN(g)||isNaN(h)||g.length<6||h.length<6){$("#error").html("<p>请以数字设置6位交易密码!</p>");return false}if(g!==h){$("#error").html("<p>请确认新密码两次输入一致？!</p>");return false}$.ajax({url:"/modpaypass",type:"POST",dataType:"json",data:{"oldpass":f,"newpass":h},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{$(".pop dd").html('<strong class="success"><i></i>修改成功！</strong>');b.pop(".pop",".black",".close");$(".user-safety input").val("");
setTimeout(function(){b.close(".pop",".black")},1000)}},error:function(c){console.log(c);return false}});return false});b.sendsms("#send-code");$("#mod-getpay").on("click",function(a){a.preventDefault();var g=$("#authcode").val().NoSpace();var h=$("#get-npass").val().NoSpace();var f=$("#get-spass").val().NoSpace();if(g===""||g===null){$("#error").html("<p>请输入短信验证码!</p>");return false}if(h===""||f===""){$("#error").html("<p>请输入修改密码信息!</p>");return false}if(isNaN(h)||isNaN(f)||h.length<4||f.length<4){$("#error").html("<p>请以数字设置6位交易密码!</p>");return false}if(h!==f){$("#error").html("<p>请确认新密码两次输入一致？!</p>");return false}$.ajax({url:"/getpaypass",type:"POST",dataType:"json",data:{"newPayment":f,"smscode":g},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{$(".pop dd").html('<strong class="success"><i></i>修改成功！</strong>');b.pop(".pop",".black",".close");$(".user-safety input").val("");setTimeout(function(){b.close(".pop",".black")},1000)}},error:function(c){console.log(c);return false}});return false});$(".user-safety input").on("click keydown mousedown",function(){$("#error").html("")})},recharge:function(){var b=this;b.tabs("#tbank a",".banks","on");$(".user-recharge input").on("click",function(){$("#error").html("")});$("#choicebanks span").on("click",function(){var a=$(this).children("em").attr("id");$("#bankcode").val(a);$("#choicebanks span").removeClass("on");$(this).addClass("on")});$("#user-recharge").on("click",function(){var a=$("#money-init").val().NoSpace();if(a===""||a===null||isNaN(a)){$("#error").html("<p><i></i>请正确输入金额！</p>");return false}if(a<100){$("#error").html("<p><i></i>充值金融必须大于100！</p>");return false}if(!$("#choicebanks span").hasClass("on")){$("#error").html("<p><i></i>请选择你的银行！</p>");return false}var g=$("#choicebanks span.on").children("input").val();$("#bankcardid").val(g);var h="HCIICN&HUACHENGJINRONG&PAYMENT&MONEY&HUACHENGJINRONG&ABCDEFGHJKMNPQRSTWXYZ&?to=payment=GOTO=LIANLIAN";var f=h.substr(Math.floor(Math.random()*19)).toString();$("#paymenturl").attr("action","/userpayment?"+f);b.pop(".pop",".black",".close")});$(".user-recharge .more").click(function(){if($(".morebank").hasClass("hide")){$(".morebank").removeClass("hide")}else{$(".morebank").addClass("hide")}});return true},useraddbank:function(){var b=this;$("#usertobank").on("click",function(a){var h=$("#banknumber").val().NoSpace();var j=$("#money-init").val().NoSpace();if(j===""||j===null||isNaN(j)){$("#error").html("<p><i></i>请正确输入金额！</p>");return false}if(j<100){$("#error").html("<p><i></i>充值金融必须大于100！</p>");return false}if(h==""||isNaN(h)){$("#error").html("<p>请正确输入银行卡号！</p>");return false}var i="HCIICN&HUACHENGJINRONG&PAYMENT&MONEY&HUACHENGJINRONG&ABCDEFGHJKMNPQRSTWXYZ&?to=payment=GOTO=LIANLIAN";var g=i.substr(Math.floor(Math.random()*19)).toString();$("#paymenturl").attr("action","/payment?"+g);b.pop(".pop",".black",".close")});$("#choicebank input, #choicebank select").on("click keydown mousedown",function(){$("#error").html("")})},withdraw:function(){var b=this;$("#choicebank span").eq(0).addClass("on");$(".user-withdraw input").on("click",function(){$("#error").html("")});$("#user-withdraw").on("click",function(m){m.preventDefault();var n=$("#province option:selected").val();var i=$("#city option:selected").text();var j=$("#bankarea").val().NoSpace();var l=$("#money-init").val().NoSpace();var a=$("#payment").val().NoSpace();var k=$("#choicebank").children("input").val();if(l===""||l===null||isNaN(l)){$("#error").html("<p><i></i>请正确输入金额！</p>");return false}if($("#money-init").val()<100){$("#error").html("<p><i></i>提现金额必须大于100元！</p>");return false}if(k===""||k===null||k===undefined){$("#error").html("<p><i></i>请选择银行卡！</p>");return false}if(n==0||n==""||n==null||i=="所在城市"||i==""||i==null){$("#error").html("<p>请选择开户城市信息！</p>");return false}if(a===""||a===null||isNaN(a)){$("#error").html("<p><i></i>请正确输入交易密码！</p>");return false}$.ajax({url:"/userwithdraw",type:"POST",dataType:"json",data:{"money":l,"cardDelId":k,"province":n,"city":i,"subBank":j,"payment":a},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{$(".pop dd").html('<strong class="success"><i></i>提现成功！</strong>');b.pop(".pop",".black",".close");setTimeout(function(){b.close(".pop",".black");window.location.href="/usercenter?withdraw"},1000);return false}},error:function(c){console.log(c);return false}});return false});$("#userover-withdraw").on("click",function(k){k.preventDefault();var l=$("#province option:selected").val();var h=$("#city option:selected").text();var j=$("#money-init").val().NoSpace();var a=$("#payment").val().NoSpace();var i=$("#choicebank").children("input").val();if(j===""||j===null||isNaN(j)){$("#error").html("<p><i></i>请正确输入金额！</p>");return false}if($("#money-init").val()<100){$("#error").html("<p><i></i>提现金额必须大于100元！</p>");return false}if(i===""||i===null||i===undefined){$("#error").html("<p><i></i>请选择银行卡！</p>");
return false}if(a===""||a===null||isNaN(a)){$("#error").html("<p><i></i>请正确输入交易密码！</p>");return false}$.ajax({url:"/userwithdraw",type:"POST",dataType:"json",data:{"money":j,"cardDelId":i,"payment":a},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{$(".pop dd").html('<strong class="success"><i></i>提现成功！</strong>');b.pop(".pop",".black",".close");setTimeout(function(){b.close(".pop",".black");window.location.href="/usercenter?withdraw"},1000);return false}},error:function(c){console.log(c);return false}});return false})},total:function(){var b=this;$.get(hcUrl+"scripts/lib/chart.js")},profit:function(){var b=this;$("#turnto").click(function(){$("#pop-contact").html("<ul>"+'<li class="clear"><span>转入金额：</span><em><input type="text" name="turnto" class="pay" id="turn-init" placeholder="输入转入金额"> </em></li>'+'<li class="clear"><span>交易密码：</span><em><input type="password" name="pay" class="pay" id="pay-password" placeholder="交易密码"> <a href="/user-safety?vault">忘记交易密码？</a></em></li>'+'</ul><button type="button" id="moneyto" class="hc-buy">转 入</button>');b.pop(".pop",".black",".close");b.turn("into");return false});$("#turnout").click(function(){$("#pop-contact").html("<ul>"+'<li class="clear"><span>转出金额：</span><em><input type="text" name="turnout" class="pay" id="turn-init" placeholder="输入转出金额"> </em></li>'+'<li class="clear"><span>交易密码：</span><em><input type="password" name="pay" class="pay" id="pay-password" placeholder="交易密码"> <a href="/user-safety?vault">忘记交易密码？</a></em></li>'+'</ul><button type="button" id="moneyto" class="hc-buy">转 出</button>');$("#turnmoney").attr("id","moneyout");b.pop(".pop",".black",".close");b.turn("out");return false})},turn:function(a){var g=this;var h=a;var f;(h==="into")?f="转入":f="转出";$("#moneyto").click(function(d){if($("#turn-init").val()==""||$("#turn-init").val()==null||isNaN($("#turn-init").val())){$(this).html("请正确输入金额！");return false}if($("#pay-password").val()==""||$("#pay-password").val()==null){$(this).html("请正确输入交易密码！");return false}var c=$("#turn-init").val().NoSpace();var b=$("#pay-password").val().NoSpace();d.preventDefault();$.ajax({url:"/userturn",type:"POST",dataType:"json",data:{"money":c,"payment":b,"type":h},success:function(e){if(e.statusCode!=0){if(e.message===undefined){$("#moneyto").html("<p>"+e+"!</p>")}else{$("#moneyto").html("<p>"+e.message+"!</p>")}}else{$("#pop-contact").html('<strong class="success"><i></i>'+f+"成功！</strong>");setTimeout(function(){g.close(".pop",".black");window.location.href="/usercenter?vault"},1000)}},error:function(e){console.log(e);return false}})})},intell:function(){var b=this;if($("#amounta").length){$("#slider-rangea").slider({range:true,min:1000,max:50000,values:[1000,50000],slide:function(a,d){$("#amounta").val(d.values[0]);$("#amountb").val(d.values[1])}});$("#amounta").val($("#slider-rangea").slider("values",0));$("#amountb").val($("#slider-rangea").slider("values",1));$("#slider-rangeb").slider({range:true,min:1,max:360,values:[1,360],slide:function(a,d){$("#amountc").val(d.values[0]);$("#amountd").val(d.values[1])}});$("#amountc").val($("#slider-rangeb").slider("values",0));$("#amountd").val($("#slider-rangeb").slider("values",1));$("#slider-rangec").slider({range:true,min:50,max:300,values:[50,300],slide:function(a,d){$("#amounte").val(d.values[0]/10);$("#amountf").val(d.values[1]/10)}});$("#amounte").val(5);$("#amountf").val(30)}if($(".intells dd").length){$(function(){$(".intells input").lc_switch();$("body").delegate(".lcs_check","lcs-statuschange",function(){var a=($(this).is(":checked"))?"on":"off";var d=$(this).attr("data");$.ajax({url:"/stepintell",type:"POST",dataType:"json",data:{"delId":d},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{$(".pop dd").html('<strong class="success"><i></i>修改成功！</strong>');b.pop(".pop",".black",".close");setTimeout(function(){b.close(".pop",".black")},1000)}},error:function(c){console.log(c);return false}})});$("button.del-intell").on("click",function(a){a.preventDefault();var d=$(this).attr("data");$.ajax({url:"/delintell",type:"POST",dataType:"json",data:{"delId":d},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{$(".pop dd").html('<strong class="success"><i></i>删除成功！</strong>');b.pop(".pop",".black",".close");setTimeout(function(){b.close(".pop",".black");window.location.href="/user-intell?userdel"},1000)}},error:function(c){console.log(c);return false}})})})}$("#setintell").on("click",function(p){p.preventDefault();var k=$("#amounta").val();var j=$("#amountb").val();var n=$("#amountc").val();var l=$("#amountd").val();var o=$("#amounte").val();var m=$("#amountf").val();var a=$(".intell-init").val().NoSpace();if(k==""||j==""||n==""||l==""||o==""||m==""){$(this).html("请正确设置信息");
return false}if(a==""||a==null||a.length!=6){$(".intell-init").css({"border":"1px solid #ff0000"});$(this).html("正确输入交易密码");return false}else{$(this).html("确认设置")}$.ajax({url:"/setintell",type:"POST",dataType:"json",data:{"minMoney":k,"maxMoney":j,"minCycle":n,"maxCycle":l,"minRates":o,"maxRates":m,"payment":a},success:function(c){if(c.statusCode!=0){if(c.message===undefined){$("#error").html("<p>"+c+"!</p>")}else{$("#error").html("<p>"+c.message+"!</p>")}}else{$(".pop dd").html('<strong class="success"><i></i>添加成功！</strong>');b.pop(".pop",".black",".close");setTimeout(function(){b.close(".pop",".black");window.location.href="/user-intell?userset"},1000)}},error:function(c){console.log(c);return false}})})},countdown:function(a){var h=this;var j=setInterval(g,1000);var i=60;function g(){i--;$(a).html(i+"s");if(i==0){clearInterval(j);$(a).removeClass("hc-end").html("重新发送").attr("disabled",false);return false}}},funds:function(){var f=this;var d=3;var e=0;$.get(hcUrl+"scripts/lib/hc-found.js",function(a,b){$("#pageload").remove();$.ajax({url:"/loadfund",type:"POST",dataType:"json",data:{"pageSize":d,"pageIndex":e,"url":"journal"},success:function(c){var h=c.data.rows;fundData(h,d,e,"journal",0)}})});$("ul.fund li").click(function(){var b=$("ul.fund li.on").index();$(".tfund").eq(b).html('<img src="images/common/load.gif" id="pageload">');if(b==0){var a="journal"}if(b==1){var a="finance_order"}if(b==2){var a="recharge"}if(b==3){var a="withdraw"}if(b==4){var a="reward"}if(b==5){var a="vault"}$.ajax({url:"/loadfund",type:"POST",dataType:"json",data:{"pageSize":d,"pageIndex":e,"url":a},success:function(c){var h=c.data.rows;fundData(h,d,e,a,b)}})})},invest:function(){var b=this;$.get(hcUrl+"scripts/lib/hc-usertransfer.js",function(d,a){$("#pageload").remove()})},integral:function(){var b=this;$(".integral-button").on("click",function(a){a.preventDefault();b.pop(".pop",".black",".close");$(".integral .min").click(function(){var d=parseInt($("#c-num").val());if(d>1){d--;$("#c-num").val(d)}});$(".integral .max").click(function(){var d=parseInt($("#c-num").val());d++;$("#c-num").val(d)})})},usersetup:function(){var b=this;$(".user-infor input").on("click",function(){if($("#user-err").length){$("#user-err").remove()}});$("#user-setup").on("click",function(a){a.preventDefault();if($("#nick-name").val()==""||$("#nick-name").val()==null){$("#nick-name").css({"border":"1px solid #ff0000"});return false}var j=$("#e-mail").val();var g=/^[-_A-Za-z0-9]+@([_A-Za-z0-9]+\.)+[A-Za-z0-9]{2,3}$/;if(j==""||j==null||!g.test(j)){$("#e-mail").css({"border":"1px solid #ff0000"});return false}var h=$(".user-infor em").attr("class").split(" ")[2].split("-")[1];var i=$("#nick-name").val().NoSpace();var j=$("#e-mail").val().NoSpace();$.ajax({url:"/setuserinfo",type:"POST",dataType:"json",data:{"headPicId":h,"nickName":i,"email":j},success:function(c){if(c.statusCode!=0){$("#user-setup").html(c.message)}else{delCookie("hcuserinfo");$(".pop dd").html('<strong class="success"><i></i>保存成功！</strong>');b.pop(".pop",".black",".close");setTimeout(function(){b.close(".pop",".black");window.location.href="/user-information?save"},1000)}}})})},init:function(){var h=this;if($("#profit-rap").length){var e=$("#user-assets").text();var g=$("#user-balance").text();$("#hiding").click(function(){if($(this).hasClass("balance")){$(this).removeClass("balance");$("#user-assets").html(e);$("#user-balance").html(g)}else{$(this).addClass("balance");$("#user-assets, #user-balance").html("--------")}});h.profit();h.total()}h.tabs(".user-menu li",".param","on");if($("#userinfo").length){h.userinfo()}$(".user-infor em").click(function(){$(this).next(".user-head").show()});$(".user-head li").click(function(){var a=$(this).text();var b=$(".user-infor em").attr("class").split(" ")[1];$(".user-infor em").removeClass().addClass("userhead userpicture "+a);$(".user-head").hide()});if($(".user-recharge").length){h.recharge();h.withdraw()}if($("#usertobank").length){h.useraddbank()}$(".user-news li a").click(function(){$(this).parent().next(".message").slideToggle()});if($(".user-intell").length){h.intell()}if($(".fund").length){h.funds()}if($(".invest").length){h.invest()}if($(".user-infor").length){h.usersetup()}if($("#authen").length){$("#send-code").attr("disabled",true).addClass("hc-end");h.countdown("#send-code");h.authen()}if($("#getpwd").length){h.getpassword()}if($(".user-tip").length){$(".user-tip").hover(function(){$(this).stop().children("#user-tip").fadeIn()},function(){$(this).stop().children("#user-tip").fadeOut()})}if($("#choicebank").length){$.get(hcUrl+"scripts/lib/card.js",function(a){h.useraddbank()})}if($(".user-safety").length){h.safety()}if($(".user-card").length){$.get(hcUrl+"scripts/lib/hc-card.js",function(a){$("#pageload").remove()})}console.log("hc-u-ver 1.0");var f=document.createElement("input");if("placeholder" in f){return}else{$("#authen dd i").css({"visibility":"visible"})}$(".userlogin input").bind({focus:function(){$(this).next("i").css({"visibility":"hidden"})
},blur:function(){if($(this).val()==""){$(this).next("i").css({"visibility":"visible"})}else{$(this).next("i").css({"visibility":"hidden"})}}})}};